<div [class]="'comment p-px-3 p-py-2 ' + (last ? '' : 'p-mb-2')">
    <div class="p-d-flex p-jc-between">
        <div>
            <div class="p-d-flex">
                <h4>{{ comment.author.firstname }} {{ comment.author.lastname }}</h4>
                <p class="p-ml-1">
                    - <small>{{ comment.created_at | date: "dd MMMM YYYY, HH:mm":"":"fr" }}</small>
                </p>
            </div>

            <p *ngIf="!inModification">{{ comment.message }}</p>

            <div class="p-d-flex" *ngIf="inModification">
                <textarea
                    pInputTextarea
                    style="flex: 1"
                    [rows]="1"
                    [autoResize]="true"
                    [formControl]="commentMessage"
                ></textarea>

                <div class="p-d-flex p-flex-column p-ml-2">
                    <button
                        pButton
                        pRipple
                        class="p-mb-2 p-button-danger p-button-icon p-button-rounded button-small"
                        icon="pi pi-times"
                        (click)="cancelModifications()"
                    ></button>
                    <button
                        pButton
                        pRipple
                        class="p-button-icon p-button-rounded button-small"
                        icon="pi pi-check"
                        (click)="saveModifications()"
                    ></button>
                </div>
            </div>
        </div>

        <div class="comment__actions">
            <p-tieredMenu #menu [model]="items" [popup]="true"></p-tieredMenu>
            <button
                pButton
                pRipple
                class="p-button-secondary p-button-icon p-button-rounded p-button-text"
                type="button"
                icon="pi pi-ellipsis-h"
                (click)="menu.toggle($event)"
            ></button>
        </div>
    </div>
</div>
