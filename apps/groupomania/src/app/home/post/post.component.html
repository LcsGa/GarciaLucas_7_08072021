<p-card styleClass="p-shadow-2 p-mt-3">
    <div class="p-d-flex p-jc-between p-pb-4">
        <div class="p-d-flex">
            <p-avatar class="p-mr-3" image="assets/users/user-default.png" shape="circle"></p-avatar>
            <div>
                <p class="p-text-bold">Lucas Garcia</p>
                <p>17h56</p>
            </div>
        </div>

        <p-tieredMenu #menu [model]="items" [popup]="true"></p-tieredMenu>
        <button
            pButton
            pRipple
            class="p-button-secondary p-button-icon p-button-rounded p-button-text"
            type="button"
            icon="pi pi-ellipsis-h"
            (click)="menu.toggle($event)"
        ></button>
    </div>

    <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Itaque tempora commodi esse voluptates aperiam in nam
        delectus ipsam. Similique qui sit nihil rerum sint beatae sapiente nesciunt iste, ex quis placeat, itaque
        perferendis dolore laboriosam amet repellat veritatis sequi error! Voluptatem esse laboriosam eum ipsa, dolor
        neque eos magnam qui.
    </p>

    <p-divider></p-divider>
    <div class="p-d-flex p-jc-between">
        <div class="p-d-flex p-ai-center">
            <p-button
                [styleClass]="liked ? 'p-mr-2 p-button-text p-button-danger' : 'p-mr-2 p-button-text p-button-secondary'"
                icon="pi pi-heart"
                label="J'aime"
                [badge]="likes.length ? likes.length + '' : ''"
                [badgeClass]="liked ? 'p-badge-danger' : 'p-badge-secondary'"
                (click)="like()"
            ></p-button>
            <button
                pButton
                pRipple
                class="p-button-secondary p-button-text"
                icon="pi pi-comment"
                label="Commenter"
                (click)="showCommentForm(commentTextArea)"
            ></button>
        </div>

        <button
            pButton
            pRipple
            [class]="comments.length ? 'p-button-link' : 'p-d-none'"
            [label]="comments.length + (comments.length > 1 ? ' commentaires' : ' commentaire')"
        ></button>
    </div>

    <div *ngFor="let comment of comments">
        <p>{{comment}}</p>
    </div>

    <form
        [class]="commentFormShown ? 'p-mt-3 p-d-flex p-ai-center' : 'p-d-none'"
        [formGroup]="commentForm"
        (ngSubmit)="postComment()"
    >
        <p-avatar class="p-mr-3" image="assets/users/user-default.png" shape="circle"></p-avatar>
        <textarea
            #commentTextArea
            pInputTextarea
            style="flex: 1;"
            [autoResize]="true"
            rows="1"
            placeholder="Ecrivez un commentaire..."
            formControlName="comment"
        ></textarea>
        <button
            pButton
            pRipple
            class="p-ml-2 p-button-icon p-button-rounded"
            icon="pi pi-send"
            [disabled]="!commentForm.valid"
        ></button>
    </form>
</p-card>
